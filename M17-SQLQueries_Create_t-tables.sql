-- Модуль-17. Скрипт создания служебных таблиц с данными: t1, t2, t3, t4 -------
-- -----------------------------------------------------------------------------
USE P_STORE
GO

-- Создание таблицы t4 и заполнение ее данными
IF OBJECT_ID('dbo.t4', 'U') IS NOT NULL
	BEGIN
		DELETE FROM dbo.t4
		DROP TABLE dbo.t4
	END

CREATE TABLE dbo.t4
(
	operator_id		SMALLINT,
	operator_name	NVARCHAR(50) 
) 
GO

INSERT INTO t4
VALUES	(1,'Автомат'),
		(2,'Чат-бот'),
		(3,'Иванов П.'),
		(4,'Петров И.'),
		(5,'Соловьев С.')
GO

-- Создание таблицы t3 и заполнение ее данными
IF OBJECT_ID('dbo.t3', 'U') IS NOT NULL
	BEGIN
		DELETE FROM dbo.t3
		DROP TABLE dbo.t3
	END

CREATE TABLE dbo.t3
(
	evaluate_id			SMALLINT,
	evaluate_descriptor	NVARCHAR(200)
) 
GO

INSERT INTO t3
VALUES	(1,'благодарит'),
		(2,'недоволен доставкой'),
		(3,'недоволен товаром'),
		(4,'проблемы с оплатой'),
		(5,'нейтрален')
GO

-- Создание таблицы t2 и заполнение ее данными
IF OBJECT_ID('dbo.t2', 'U') IS NOT NULL
	BEGIN
		DELETE FROM dbo.t2
		DROP TABLE dbo.t2
	END

CREATE TABLE dbo.t2
(
	contact_id			SMALLINT,
	[io]				BIT,
	contact_descriptor	NVARCHAR(200)
) 
GO

INSERT INTO t2
VALUES	(1,1,'клиент заходил в каталог'),
		(2,1,'клиент открывал характеристики телефона'),
		(3,1,'клиент добавил товар в список желаний'),
		(4,1,'клиент воспользовался опцией сравнение товаров'),
		(5,1,'клиент изучал способы оплаты'),
		(1,1,'клиент заходил в каталог'),
		(2,1,'клиент открывал характеристики телефона'),
		(3,1,'клиент добавил товар в список желаний'),
		(4,1,'клиент воспользовался опцией сравнение товаров'),
		(5,1,'клиент изучал способы оплаты'),
		(6,1,'клиент изучал способы доставки'),
		(7,1,'клиент выбрал опцию сообщить, когда появится'),
		(8,1,'клиент положил телефон в корзину но не купил(брошенная корзина)'),
		(9,1,'клиент задает вопрос в чате'),
		(10,1,'клиент купил телефон'),
		(11,1,'клиент оставил отзыв'),
		(12,1,'клиент сделал звонок в наш CALL-CENTER'),
		(13,1,'клиент прислал емейл'),
		(14,1,'клиент задал вопрос в отзывах'),
		(15,0,'контекстная рекламу акций по магазину в целом'),
		(16,0,'контекстная рекламу телефона'),
		(17,0,'контекстная рекламу акций  касающаяся данной модели'),
		(18,0,'контекстная рекламу телефона'),
		(19,0,'емейл рассылка с предложением оставить отзыв о купленном товаре'),
		(20,0,'звонок оператора- напоминание'),
		(21,0,'емейл напоминание'),
		(22,0,'звонок оператора с просьбой оценить качество обслуживания')
GO

-- Создание таблицы t1 и заполнение ее данными
IF OBJECT_ID('dbo.t1', 'U') IS NOT NULL
	BEGIN
		DELETE FROM dbo.t1
		DROP TABLE dbo.t1
	END

CREATE TABLE dbo.t1
(
	date_cont		SMALLDATETIME,
	client_id		INT,
	contact_id		SMALLINT,
	evaluate_id		SMALLINT,
	phone_id		INT,
	operator_id		SMALLINT
) 
GO

INSERT INTO t1
VALUES	('2019-08-06 17:00:00',53,1,NULL,NULL,NULL),
		('2019-08-06 16:00:00',54,1,NULL,NULL,NULL),
		('2019-08-06 15:00:00',55,1,NULL,NULL,NULL),
		('2019-08-06 14:00:00',56,1,NULL,NULL,NULL),
		('2019-08-06 13:00:00',57,1,NULL,NULL,NULL),
		('2019-08-06 17:03:00',53,2,NULL,230064,NULL),
		('2019-08-06 16:03:00',54,2,NULL,244246,NULL),
		('2019-08-06 15:03:00',55,2,NULL,244247,NULL),
		('2019-08-06 14:03:00',56,2,NULL,244248,NULL),
		('2019-08-06 13:03:00',57,2,NULL,348295,NULL),
		('2019-08-06 17:04:00',53,3,NULL,230064,NULL),
		('2019-08-06 16:04:00',54,3,NULL,244246,NULL),
		('2019-08-06 15:04:00',55,3,NULL,244247,NULL),
		('2019-08-06 14:04:00',56,3,NULL,244248,NULL),
		('2019-08-06 13:04:00',57,3,NULL,348295,NULL),
		('2019-08-06 17:05:00',53,4,NULL,230064,NULL),
		('2019-08-06 16:05:00',54,4,NULL,244246,NULL),
		('2019-08-06 15:05:00',55,4,NULL,244247,NULL),
		('2019-08-06 14:05:00',56,4,NULL,244248,NULL),
		('2019-08-06 13:05:00',57,4,NULL,348295,NULL),
		('2019-08-06 17:05:00',53,4,NULL,451560,NULL),
		('2019-08-06 16:05:00',54,4,NULL,452165,NULL),
		('2019-08-06 15:05:00',55,4,NULL,453978,NULL),
		('2019-08-06 14:05:00',56,4,NULL,453984,NULL),
		('2019-08-06 13:05:00',57,4,NULL,452437,NULL),
		('2019-08-06 17:06:00',53,5,NULL,NULL,NULL),
		('2019-08-06 16:06:00',54,5,NULL,NULL,NULL),
		('2019-08-06 15:06:00',55,5,NULL,NULL,NULL),
		('2019-08-06 14:06:00',56,5,NULL,NULL,NULL),
		('2019-08-06 13:06:00',57,5,NULL,NULL,NULL),
		('2019-08-06 17:07:00',53,6,NULL,NULL,NULL),
		('2019-08-06 16:07:00',54,6,NULL,NULL,NULL),
		('2019-08-06 15:07:00',55,6,NULL,NULL,NULL),
		('2019-08-06 14:07:00',56,6,NULL,NULL,NULL),
		('2019-08-06 13:07:00',57,6,NULL,NULL,NULL),
		('2019-08-06 17:09:00',53,8,NULL,230064,NULL),
		('2019-08-06 16:09:00',54,8,NULL,244246,NULL),
		('2019-08-06 15:09:00',55,8,NULL,244247,NULL),
		('2019-08-06 14:09:00',56,8,NULL,244248,NULL),
		('2019-08-06 13:09:00',57,8,NULL,348295,NULL),
		('2019-08-06 17:08:00',53,7,NULL,230064,NULL),
		('2019-08-06 16:08:00',54,7,NULL,244246,NULL),
		('2019-08-06 15:08:00',55,7,NULL,244247,NULL),
		('2019-08-06 14:08:00',56,7,NULL,244248,NULL),
		('2019-08-06 13:08:00',57,7,NULL,348295,NULL),
		('2019-08-06 17:10:00',53,9,NULL,230064,2),
		('2019-08-06 16:10:00',54,9,NULL,244246,2),
		('2019-08-06 15:10:00',55,9,NULL,244247,2),
		('2019-08-06 14:10:00',56,9,NULL,244248,2),
		('2019-08-06 13:10:00',57,9,NULL,348295,2),
		('2019-08-06 17:11:00',53,10,NULL,230064,NULL),
		('2019-08-06 16:11:00',54,10,NULL,244246,NULL),
		('2019-08-06 15:11:00',55,10,NULL,244247,NULL),
		('2019-08-06 14:11:00',56,10,NULL,244248,NULL),
		('2019-08-06 13:11:00',57,10,NULL,348295,NULL),
		('2019-08-06 17:12:00',53,11,NULL,230064,NULL),
		('2019-08-06 16:12:00',54,11,NULL,244246,NULL),
		('2019-08-06 15:12:00',55,11,NULL,244247,NULL),
		('2019-08-06 14:12:00',56,11,NULL,244248,NULL),
		('2019-08-06 13:12:00',57,11,NULL,348295,NULL),
		('2019-08-06 17:13:00',53,12,1,230064,3),
		('2019-08-06 16:13:00',54,12,2,244246,4),
		('2019-08-06 15:13:00',55,12,3,244247,5),
		('2019-08-06 14:13:00',56,12,4,244248,3),
		('2019-08-06 13:13:00',57,12,5,348295,4),
		('2019-08-06 17:14:00',53,13,1,230064,NULL),
		('2019-08-06 16:14:00',54,13,2,244246,NULL),
		('2019-08-06 15:14:00',55,13,3,244247,NULL),
		('2019-08-06 14:14:00',56,13,4,244248,NULL),
		('2019-08-06 13:14:00',57,13,5,348295,NULL),
		('2019-08-06 17:15:00',53,14,NULL,230064,NULL),
		('2019-08-06 16:15:00',54,14,NULL,244246,NULL),
		('2019-08-06 15:15:00',55,14,NULL,244247,NULL),
		('2019-08-06 14:15:00',56,14,NULL,244248,NULL),
		('2019-08-06 13:15:00',57,14,NULL,348295,NULL),
		('2019-08-06 17:16:00',53,15,NULL,NULL,NULL),
		('2019-08-06 16:16:00',54,15,NULL,NULL,NULL),
		('2019-08-06 15:16:00',55,15,NULL,NULL,NULL),
		('2019-08-06 14:16:00',56,15,NULL,NULL,NULL),
		('2019-08-06 13:16:00',57,15,NULL,NULL,NULL),
		('2019-08-06 17:17:00',53,16,NULL,451560,NULL),
		('2019-08-06 16:17:00',54,16,NULL,452165,NULL),
		('2019-08-06 15:17:00',55,16,NULL,453978,NULL),
		('2019-08-06 14:17:00',56,16,NULL,453984,NULL),
		('2019-08-06 13:17:00',57,16,NULL,452437,NULL),
		('2019-08-06 17:17:00',53,16,NULL,230064,NULL),
		('2019-08-06 16:17:00',54,16,NULL,244246,NULL),
		('2019-08-06 15:17:00',55,16,NULL,244247,NULL),
		('2019-08-06 14:17:00',56,16,NULL,244248,NULL),
		('2019-08-06 13:17:00',57,16,NULL,348295,NULL),
		('2019-08-06 17:18:00',53,17,NULL,451560,NULL),
		('2019-08-06 16:18:00',54,17,NULL,452165,NULL),
		('2019-08-06 15:18:00',55,17,NULL,453978,NULL),
		('2019-08-06 14:18:00',56,17,NULL,453984,NULL),
		('2019-08-06 13:18:00',57,17,NULL,452437,NULL),
		('2019-08-06 17:18:00',53,17,NULL,230064,NULL),
		('2019-08-06 16:18:00',54,17,NULL,244246,NULL),
		('2019-08-06 15:18:00',55,17,NULL,244247,NULL),
		('2019-08-06 14:18:00',56,17,NULL,244248,NULL),
		('2019-08-06 13:18:00',57,17,NULL,348295,NULL),
		('2019-08-06 17:19:00',53,18,NULL,230064,NULL),
		('2019-08-06 16:19:00',54,18,NULL,244246,NULL),
		('2019-08-06 15:19:00',55,18,NULL,244247,NULL),
		('2019-08-06 14:19:00',56,18,NULL,244248,NULL),
		('2019-08-06 13:19:00',57,18,NULL,348295,NULL),
		('2019-08-06 17:19:00',53,18,NULL,451560,NULL),
		('2019-08-06 16:19:00',54,18,NULL,452165,NULL),
		('2019-08-06 15:19:00',55,18,NULL,453978,NULL),
		('2019-08-06 14:19:00',56,18,NULL,453984,NULL),
		('2019-08-06 13:19:00',57,18,NULL,452437,NULL),
		('2019-08-06 17:20:00',53,19,NULL,NULL,NULL),
		('2019-08-06 16:20:00',54,19,NULL,NULL,NULL),
		('2019-08-06 15:20:00',55,19,NULL,NULL,NULL),
		('2019-08-06 14:20:00',56,19,NULL,NULL,NULL),
		('2019-08-06 13:20:00',57,19,NULL,NULL,NULL),
		('2019-08-06 17:21:00',53,20,NULL,451560,3),
		('2019-08-06 16:21:00',54,20,NULL,452165,4),
		('2019-08-06 15:21:00',55,20,NULL,453978,5),
		('2019-08-06 14:21:00',56,20,NULL,453984,3),
		('2019-08-06 13:21:00',57,20,NULL,452437,4),
		('2019-08-06 17:22:00',53,21,NULL,451560,3),
		('2019-08-06 16:22:00',54,21,NULL,452165,4),
		('2019-08-06 15:22:00',55,21,NULL,453978,5),
		('2019-08-06 14:22:00',56,21,NULL,453984,3),
		('2019-08-06 13:22:00',57,21,NULL,452437,4),
		('2019-08-06 17:22:00',53,21,NULL,NULL,NULL),
		('2019-08-06 16:22:00',54,21,NULL,NULL,NULL),
		('2019-08-06 15:22:00',55,21,NULL,NULL,NULL),
		('2019-08-06 14:22:00',56,21,NULL,NULL,NULL),
		('2019-08-06 13:22:00',57,21,NULL,NULL,NULL)
GO
